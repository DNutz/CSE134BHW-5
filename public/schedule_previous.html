<!DOCTYPE html><html lang="en"><head> <title>Previous Games</title> <meta charset="utf-8"> <meta name="theme-color" content="#2E3AA1"> <meta name="viewport" content="width=980, initial-scale=.3"> <script src="js/firebase.js" type="text/javascript"></script> <script src="js/firestore.js" type="text/javascript"></script> <script>var config={apiKey: "AIzaSyA4_4i286-lIif954lxXfFFMCxIdzgNeLQ", authDomain: "cse134bhw-5.firebaseapp.com", databaseURL: "https://cse134bhw-5.firebaseio.com", projectId: "cse134bhw-5", storageBucket: "cse134bhw-5.appspot.com", messagingSenderId: "849104176022"}; firebase.initializeApp(config);firebase.firestore().enablePersistence().then(function() {var db = firebase.firestore();}).catch(function(err) {if (err.code == 'failed-precondition') {} else if (err.code == 'unimplemented') {}}); </script> <script src="js/schedule.js" type="text/javascript"></script> <script src="js/raven.js" type="text/javascript"></script> <script src="js/app.js" type="text/javascript"></script> <script src="sw.js" type="text/javascript"></script> <script src="js/hideInputTab.js" type="text/javascript"></script> <style>html{font-size: 10px;}body{text-align: center; margin: 5% 5% 5% 5%; font-size: 4rem;}main > p{margin-top: 2rem;}.nav{display: block; padding-left: 0; margin-bottom: 0; list-style: none;}.nav:before, .nav:after, .row:before, .row:after, .modal-header:before{display: table; content: " ";}.nav:after, .row:after{clear: both;}.nav>li{position: relative; display: block;}.nav>li>a{position: relative; display: block; text-decoration: none; font-size: 3rem; padding: 10px 15px;}.nav>li>a:hover, .nav>li>a:focus{text-decoration: none; background-color: #eee;}.nav-tabs>li.active>a, .nav-tabs>li.active>a:hover, .nav-tabs>li.active>a:focus{color: #555; cursor: default; background-color: #fff; border: 1px solid #ddd; border-bottom-color: transparent;}.nav-tabs>li>a:hover{border-color: #eee #eee #ddd;}.nav-tabs{border-bottom: 1px solid #ddd;}.nav-tabs>li{float: left; margin-bottom: -1px;}.nav-tabs>li>a{margin-right: 2px; line-height: 1.42857143; border: 1px solid transparent; border-radius: 4px 4px 0 0;}h2{margin-bottom: 2rem; font-size: 6rem;}.well{margin-top: 2rem; min-height: 20px; padding: 19px; margin-bottom: 20px; background-color: #f5f5f5; border: 1px solid #e3e3e3; border-radius: 4px;}.row{margin-right: -15px; margin-left: -15px;}.col-xs-3, .col-xs-6{position: relative; min-height: 1px; float: left; padding-left: 15px; padding-right: 15px;}.col-xs-3{width: 25%;}.col-xs-6{width: 50%;}ul li{width: 50%;}div p{font-size: 2.5rem;}p{orphans: 3; widows: 3; margin: 0 0 10px;}.col-xs-3 p:nth-child(2){font-weight: 900;}#menuTabs{margin-bottom: 3rem;}*{-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;}*:before, *:after{-webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box;}.nav-pills>li{float: left;}.nav-pills>li>a{border-radius: 4px;}.nav-pills>li+li{margin-left: 2px;}.nav-pills>li.active>a, .nav-pills>li.active>a:hover, .nav-pills>li.active>a:focus{color: #fff; background-color: #337ab7;}.nav-justified{width: 100%;}.nav-justified>li{display: table-cell; width: 1%; float: none;}.nav-justified>li>a{margin-bottom: 5px; text-align: center;}</style></head><body> <ul id="menuTabs" class="nav nav-pills nav-justified"> <li> <a data-toggle="pill" href="homepage.html">Home</a> </li><li class="active"> <a data-toggle="pill">Schedule</a> </li><li> <a data-toggle="pill" href="roster_vanilla.html">Roster</a> </li><li class="inputTab"> <a data-toggle="pill" href="input_stats_vanilla.html">Input</a> </li><li> <a data-toggle="pill" href="account_settings.html">Settings</a> </li></ul> <ul class="nav nav-tabs"> <li> <a data-toggle="tab" href="schedule_upcoming.html">Ongoing/Upcoming</a> </li><li class="active"> <a data-toggle="tab" href="">Previous</a> </li></ul> <main> <p>Loading Events...</p></main> <template id="previousGameTemplate"> <div class="well row" onclick="viewGame(this.getAttribute('data-id'), 'previousEvents')"> <div class="col-xs-3 teamInfo"> <p>Team Aztecs</p><p></p><p></p></div><div class="col-xs-6 gameInfo"> <p></p><p>vs</p><p></p></div><div class="col-xs-3 oppInfo"> <p></p><p></p><p></p></div></div></template> <template id="previousPracticeTemplate"> <div class="well row"> <div class="col-xs-6 practiceTime"> <p>Practice</p><p></p></div><div class="col-xs-6 practiceLoc"> <p>Location:</p><p></p></div></div></template> <script>var db=firebase.firestore(); db.collection('previousEvents').onSnapshot(function(){showPreviousEvents();}); function showPreviousEvents(){updateSchedule(); var eventContainer=document.querySelector('main'); eventContainer.innerHTML=''; var previousRef=db.collection('previousEvents'); previousRef.orderBy('dateVal', 'desc').orderBy('time', 'desc').get().then(function (querySnapshot){for (var index=0; index < querySnapshot.size; index++){var prevEvent=querySnapshot.docs[index].data(); var eventId=querySnapshot.docs[index].id; if (prevEvent.valid=='1'){if (prevEvent.type=='Game'){var eventTemplate=document.querySelector('#previousGameTemplate'); var templateContent=eventTemplate.content; templateContent.children[0].setAttribute('data-id', eventId); var teamInfo=templateContent.querySelectorAll('.teamInfo p'); teamInfo[1].textContent=prevEvent.gameStats.goals; teamInfo[2].textContent="(" + prevEvent.status + ")"; var oppStatus=(status=='Home') ? 'Away' : 'Home'; var oppInfo=templateContent.querySelectorAll('.oppInfo p'); oppInfo[0].textContent=prevEvent.opponent; oppInfo[1].textContent=prevEvent.gameStats.oppGoals; oppInfo[2].textContent="(" + oppStatus + ")"; var hour=parseInt(prevEvent.time.substr(0, 2)); var timeHalf=(hour >=12) ? 'PM' : 'AM'; hour=((hour + 11) % 12) + 1; var timeStr=hour.toString() + prevEvent.time.substr(2) + ' ' + timeHalf; var gameInfo=templateContent.querySelectorAll('.gameInfo p'); gameInfo[0].textContent=prevEvent.date + ' ' + timeStr; gameInfo[2].textContent=prevEvent.location; var gameClone=document.importNode(templateContent, true); eventContainer.appendChild(gameClone);}else{var eventTemplate=document.querySelector('#previousPracticeTemplate'); var templateContent=eventTemplate.content; templateContent.children[0].setAttribute('data-index', eventId); var hour=parseInt(prevEvent.time.substr(0, 2)); var timeHalf=(hour >=12) ? 'PM' : 'AM'; hour=((hour + 11) % 12) + 1; var timeStr=hour.toString() + prevEvent.time.substr(2) + ' ' + timeHalf; var practTime=templateContent.querySelector('.practiceTime p:last-child'); practTime.textContent=prevEvent.date + ' ' + timeStr; var practLoc=templateContent.querySelector('.practiceLoc p:last-child'); practLoc.textContent=prevEvent.location; var practiceClone=document.importNode(templateContent, true); eventContainer.appendChild(practiceClone);}}}}).catch(function(error){console.error('Error in showing previous events');});}firebase.auth().onAuthStateChanged(function(user){if (user){}else{location.href='index.html'; alert('You must be logged in to use this app.');}}); </script></body></html>